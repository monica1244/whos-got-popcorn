<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Who's Got Popcorn</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Lobster' rel='stylesheet'>
    <link href='https://fonts.googleapis.com/css?family=Yeseva One' rel='stylesheet'>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://d3js.org/d3.v3.min.js"></script>
  </head>
  <body>
    <div class = "controls_column">
      <div class = "movies_heading">Movies</div>
      <div class = "filters">
        <div class = "filter_heading">Filter</div>
        <div class = "filter_dropdown">
          <nav id="menu">
            <label for="tm" id="toggle-menu">Navigation <span class="drop-icon">▾</span></label>
            <input type="checkbox" id="tm">
            <ul class="main-menu clearfix">
              <li><a>2-level DD 
                  <span class="drop-icon">▾</span>
                  <label title="Toggle Drop-down" class="drop-icon" for="sm1">▾</label>
                </a>
                <input type="checkbox" id="sm1">
                <ul class="sub-menu">
                  <li><a href="#">Item 2.1</a></li>
                  <li><a href="#">Item 2.2
                      <span class="drop-icon">▾</span>
                      <label title="Toggle Drop-down" class="drop-icon" for="sm2">▾</label>
                    </a>
                    <input type="checkbox" id="sm2">
                    <ul class="sub-menu">
                      <li><a href="#">Item 2.2.1</a></li>
                      <li><a href="#">Item 2.2.2</a></li>
                      <li><a href="#">Item 2.2.3</a></li>
                    </ul>
                  </li>
                  <li><a href="#">Item 3.4</a></li>
                </ul>
              </li>
            </ul>
          </nav>
        </div>
      </div>
      <div class = "bubble_control">
        <div class = "Bubble_heading">Cluster Bubbles</div>
        <div class = "Color_heading">
          <p>Color By</p>
          <div class = "Color_dropdown">
            <nav id="menu">
              <label for="tm" id="toggle-menu">Navigation <span class="drop-icon">▾</span></label>
              <input type="checkbox" id="tm">
              <ul class="main-menu clearfix">
                <li><a id = "Color_sub_menu_heading">Genre
                    <span class="drop-icon">▾</span>
                    <label title="Toggle Drop-down" class="drop-icon" for="sm1">▾</label>
                  </a>
                  <input type="checkbox" id="sm1">
                  <ul class="sub-menu Color_sub_menu color_scrollable_menu">
                    <li><a>Genre</a></li>
                    <li><a>Popularity</a></li>
                    <li><a>Runtime</a></li>
                    <li><a>Revenue</a></li>
                    <li><a>Profit</a></li>
                    <li><a>Budget</a></li>
                  </ul>
                </li>
              </ul>
            </nav>
          </div>
        </div>
      </div>
      <div class = "timeline_control">
        <div class = "timeline_heading">Timeline</div>
        <div class = "Y_axis">
          <p>Y-Axis</p>
          <div class = "Y_axis_dropdown">
            <nav id="menu">
              <label for="tm" id="toggle-menu">Navigation <span class="drop-icon">▾</span></label>
              <input type="checkbox" id="tm">
              <ul class="main-menu clearfix">
                <li><a id = "Y_axis_sub_menu_heading">Frequency 
                    <span class="drop-icon">▾</span>
                    <label title="Toggle Drop-down" class="drop-icon" for="sm1">▾</label>
                  </a>
                  <input type="checkbox" id="sm1">
                  <ul class="sub-menu Y_axis_sub_menu y_scrollable_menu">
                    <li><a onclick = "ChangeY('Frequency')">Frequency</a></li>
                    <li><a onclick = "ChangeY('Popularity')">Popularity</a></li>
                    <li><a onclick = "ChangeY('Revenue')">Revenue</a></li>
                    <li><a onclick = "ChangeY('Budget')">Budget</a></li>
                    <li><a onclick = "ChangeY('Profit')">Profit</a></li>
                    <li><a onclick = "ChangeY('Rating')">Rating</a></li>
                    <li><a onclick = "ChangeY('Runtime')">Runtime</a></li>
                    <li><a onclick = "ChangeY('Vote Count')">Vote Count</a></li>
                  </ul>
                </li>
              </ul>
            </nav>
          </div>
        </div>
        <div class = "Genres">
          <p>Genre</p>
          <div class = "Genre_dropdown">
            <nav id="menu">
              <label for="tm" id="toggle-menu">Navigation <span class="drop-icon">▾</span></label>
              <input type="checkbox" id="tm">
              <ul class="main-menu clearfix">
                <li><a>Select Genre 
                    <span class="drop-icon">▾</span>
                    <label title="Toggle Drop-down" class="drop-icon" for="sm1">▾</label>
                  </a>
                  <input type="checkbox" id="sm1">
                  <ul class="sub-menu genre_sub_menu genre_scrollable_menu">
                    <li><a onclick = "AddGenre('Action')">Action</a></li>
                    <li><a onclick = "AddGenre('Adventure')">Adventure</a></li>
                    <li><a onclick = "AddGenre('Animation')">Animation</a></li>
                    <li><a onclick = "AddGenre('Comedy')">Comedy</a></li>
                    <li><a onclick = "AddGenre('Crime')">Crime</a></li>
                    <li><a onclick = "AddGenre('Documentary')">Documentary</a></li>
                    <li><a onclick = "AddGenre('Drama')">Drama</a></li>
                    <li><a onclick = "AddGenre('Family')">Family</a></li>
                    <li><a onclick = "AddGenre('Fantasy')">Fantasy</a></li>
                    <li><a onclick = "AddGenre('History')">History</a></li>
                    <li><a onclick = "AddGenre('Horror')">Horror</a></li>
                    <li><a onclick = "AddGenre('Music')">Music</a></li>
                    <li><a onclick = "AddGenre('Mystery')">Mystery</a></li>
                    <li><a onclick = "AddGenre('Romance')">Romance</a></li>
                    <li><a onclick = "AddGenre('Science Fiction')">Science Fiction</a></li>
                    <li><a onclick = "AddGenre('Thriller')">Thriller</a></li>
                    <li><a onclick = "AddGenre('War')">War</a></li>
                    <li><a onclick = "AddGenre('Western')">Western</a></li>
                  </ul>
                </li>
              </ul>
            </nav>
          </div>
        </div>
        <div class = "Genre_tags" id = "tag_holder">
        </div>
      </div>
    </div>
    <div class = "viz_column">
      <div class = "graph_viz">
      </div>
      <div class = "timeline_viz">
      </div>
    </div>
    <script src = "./test.js" type="text/javascript"></script>
    <script type="text/javascript">
      var genres = [];
      $(".Y_axis_sub_menu > li").click(function() {
        $("#Y_axis_sub_menu_heading").text($(this).text()+" "); 
        $("#Y_axis_sub_menu_heading").append('<span class="drop-icon">▾</span><label title="Toggle Drop-down" class="drop-icon" for="sm1">▾</label>');
      });
      
      $(document).on('click', '.close_tag', function() { 
        genres.splice(genres.indexOf($(this).prev().text()), 1);
        $(this).parent('div').remove();   
        console.log(genres);
      });
      
      $(".genre_sub_menu > li").click(function() {
          var str2 = $(this).text();
          console.log(genres);
          if (!genres.includes(str2)) {
            var d = document.createElement("div");
            d.className = "tag";
            var a1 = document.createElement("a");
            a1.appendChild(document.createTextNode(str2));
            a1.appendChild(document.createTextNode("\u00A0"));
            var a2 = document.createElement("a");
            a2.appendChild(document.createTextNode("x"));
            a2.className = "close_tag";
            d.appendChild(a1);
            d.appendChild(a2);
            tag_holder.appendChild(d);
            genres.push(str2);
          }
      });
      
      $(".Color_sub_menu > li").click(function() {
        $("#Color_sub_menu_heading").text($(this).text()+" "); 
        $("#Color_sub_menu_heading").append('<span class="drop-icon">▾</span><label title="Toggle Drop-down" class="drop-icon" for="sm1">▾</label>');
      });
    </script>
  </body>
</html>
