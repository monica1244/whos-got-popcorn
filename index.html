<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Who's Got Popcorn</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Lobster' rel='stylesheet'>
    <link href='https://fonts.googleapis.com/css?family=Yeseva One' rel='stylesheet'>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://d3js.org/d3.v3.min.js"></script>
  </head>
  <body>
    <div class = "controls_column">
      <div class = "movies_heading">Movies</div>
      <div class = "filters">
        <div class = "Bubble_heading">Cluster Bubbles</div>
        <div class = "filter_box">  
          <div class = "filter_heading"><p>Filter</p></div>
          <div class = "filter_dropdown">
            <nav id="menu">
              <label for="tm" id="toggle-menu">Navigation <span class="drop-icon">▾</span></label>
              <input type="checkbox" id="tm">
              <ul class="main-menu clearfix">
                <li><a>Select
                    <span class="drop-icon">▾</span>
                    <label title="Toggle Drop-down" class="drop-icon" for="sm1">▾</label>
                  </a>
                  <input type="checkbox" id="sm1">
                  <ul class="sub-menu">
                    <li><a>Genre
                        <span class="drop-icon">▾</span>
                        <label title="Toggle Drop-down" class="drop-icon" for="sm2">▾</label>
                        </a>
                      <input type="checkbox" id="sm2">
                      <ul class="sub-menu">
                        <li><a>Tdff</a></li>
                        <li><a>Tdff</a></li>
                        <li><a>bjekrrff</a></li>
                      </ul>
                    </li>
                    <li><a>Actor
                        <span class="drop-icon">▾</span>
                        <label title="Toggle Drop-down" class="drop-icon" for="sm2">▾</label>
                      </a>
                      <input type="checkbox" id="sm3">
                      <ul class="sub-menu" id = "actor_list">
                        <input class="list_search" id="actor_input" type="text" placeholder="Search..">
                        <li><a>Tdff</a></li>
                        <li><a>Tdff</a></li>
                        <li><a>bjekrrff</a></li>
                      </ul>
                    </li>
                    <li><a>Language
                        <span class="drop-icon">▾</span>
                        <label title="Toggle Drop-down" class="drop-icon" for="sm2">▾</label>
                        </a>
                      <input type="checkbox" id="sm4">
                      <ul class="sub-menu">
                        <li><a>Tdff</a></li>
                        <li><a>Tdff</a></li>
                        <li><a>bjekrrff</a></li>
                      </ul>
                    </li>
                    <li><a>Production Company
                        <span class="drop-icon">▾</span>
                        <label title="Toggle Drop-down" class="drop-icon" for="sm2">▾</label>
                        </a>
                      <input type="checkbox" id="sm5">
                      <ul class="sub-menu">
                        <li><a>Tdff</a></li>
                        <li><a>Tdff</a></li>
                        <li><a>bjekrrff</a></li>
                      </ul>
                    </li>
                  </ul>
                </li>
              </ul>
            </nav>
          </div>
        </div>
        <div class = "Color_heading">
          <p>Color By</p>
          <div class = "Color_dropdown">
            <nav id="menu">
              <label for="tm" id="toggle-menu">Navigation <span class="drop-icon">▾</span></label>
              <input type="checkbox" id="tm">
              <ul class="main-menu clearfix">
                <li><a id = "Color_sub_menu_heading">Genre
                    <span class="drop-icon">▾</span>
                    <label title="Toggle Drop-down" class="drop-icon" for="sm1">▾</label>
                  </a>
                  <input type="checkbox" id="sm1">
                  <ul class="sub-menu Color_sub_menu color_scrollable_menu">
                    <li><a>Genre</a></li>
                    <li><a>Popularity</a></li>
                    <li><a>Runtime</a></li>
                    <li><a>Revenue</a></li>
                    <li><a>Profit</a></li>
                    <li><a>Budget</a></li>
                  </ul>
                </li>
              </ul>
            </nav>
          </div>
        </div>
      </div>
      <div class = "timeline_control">
        <div class = "timeline_heading">Timeline</div>
        <div class = "Y_axis">
          <p>Y-Axis</p>
          <div class = "Y_axis_dropdown">
            <nav id="menu">
              <label for="tm" id="toggle-menu">Navigation <span class="drop-icon">▾</span></label>
              <input type="checkbox" id="tm">
              <ul class="main-menu clearfix">
                <li><a id = "Y_axis_sub_menu_heading">Number of Movies
                    <span class="drop-icon">▾</span>
                    <label title="Toggle Drop-down" class="drop-icon" for="sm1">▾</label>
                  </a>
                  <input type="checkbox" id="sm1">
                  <ul class="sub-menu Y_axis_sub_menu y_scrollable_menu">
                    <li><a onclick = "ChangeY('Frequency')">Number of Movies</a></li>
                    <li><a onclick = "ChangeY('Popularity')">Popularity</a></li>
                    <li><a onclick = "ChangeY('Revenue')">Revenue</a></li>
                    <li><a onclick = "ChangeY('Budget')">Budget</a></li>
                    <li><a onclick = "ChangeY('Profit')">Profit</a></li>
                    <li><a onclick = "ChangeY('Rating')">Rating</a></li>
                    <li><a onclick = "ChangeY('Runtime')">Runtime</a></li>
                    <li><a onclick = "ChangeY('Vote Count')">Vote Count</a></li>
                  </ul>
                </li>
              </ul>
            </nav>
          </div>
        </div>
        <div class = "Genres">
          <p>Genre</p>
          <div class = "Genre_dropdown">
            <nav id="menu">
              <label for="tm" id="toggle-menu">Navigation <span class="drop-icon">▾</span></label>
              <input type="checkbox" id="tm">
              <ul class="main-menu clearfix">
                <li><a>Select Genre 
                    <span class="drop-icon">▾</span>
                    <label title="Toggle Drop-down" class="drop-icon" for="sm1">▾</label>
                  </a>
                  <input type="checkbox" id="sm1">
                  <ul class="sub-menu genre_sub_menu genre_scrollable_menu">
                    <li><a onclick = "AddGenre('All')">All</a></li>
                    <li><a onclick = "AddGenre('Action')">Action</a></li>
                    <li><a onclick = "AddGenre('Adventure')">Adventure</a></li>
                    <li><a onclick = "AddGenre('Animation')">Animation</a></li>
                    <li><a onclick = "AddGenre('Comedy')">Comedy</a></li>
                    <li><a onclick = "AddGenre('Crime')">Crime</a></li>
                    <li><a onclick = "AddGenre('Documentary')">Documentary</a></li>
                    <li><a onclick = "AddGenre('Drama')">Drama</a></li>
                    <li><a onclick = "AddGenre('Family')">Family</a></li>
                    <li><a onclick = "AddGenre('Fantasy')">Fantasy</a></li>
                    <li><a onclick = "AddGenre('History')">History</a></li>
                    <li><a onclick = "AddGenre('Horror')">Horror</a></li>
                    <li><a onclick = "AddGenre('Music')">Music</a></li>
                    <li><a onclick = "AddGenre('Mystery')">Mystery</a></li>
                    <li><a onclick = "AddGenre('Romance')">Romance</a></li>
                    <li><a onclick = "AddGenre('Science Fiction')">Science Fiction</a></li>
                    <li><a onclick = "AddGenre('Thriller')">Thriller</a></li>
                    <li><a onclick = "AddGenre('War')">War</a></li>
                    <li><a onclick = "AddGenre('Western')">Western</a></li>
                  </ul>
                </li>
              </ul>
            </nav>
          </div>
        </div>
        <div class = "Genre_tags" id = "tag_holder">
        </div>
      </div>
    </div>
    <div class = "viz_column">
      <div class = "graph_viz">
      </div>
      <div class = "timeline_viz">
      </div>
    </div>
    <script src = "./test.js" type="text/javascript"></script>
    <script type="text/javascript">
      var genres = [];
      var all_genres = ["Action", "Adventure", "Animation", "Comedy", "Crime", "Documentary", "Drama", "Family", "Fantasy", "History", "Horror", "Music", "Mystery", "Romance", "Science Fiction", "Thriller", "War", "Western"]
      $(".Y_axis_sub_menu > li").click(function() {
        $("#Y_axis_sub_menu_heading").text($(this).text()+" "); 
        $("#Y_axis_sub_menu_heading").append('<span class="drop-icon">▾</span><label title="Toggle Drop-down" class="drop-icon" for="sm1">▾</label>');
      });
      
      $(document).on('click', '.close_tag', function() { 
        genres.splice(genres.indexOf($(this).prev().text()), 1);
        $(this).parent('div').remove();   
      });
      
      $(".genre_sub_menu > li").click(function() {
          var str2 = $(this).text();
          if (str2 == "All") {
            for (i = 0; i < all_genres.length; i++) {
              if (!genres.includes(all_genres[i])) {
                var d = document.createElement("div");
                d.className = all_genres[i];
                var a1 = document.createElement("a");
                a1.appendChild(document.createTextNode(all_genres[i]));
                var a2 = document.createElement("a");
                a2.appendChild(document.createTextNode("x"));
                a2.className = "close_tag";
                var str3 = "RemoveGenre(\'";
                var str4 = "\')";
                var str5 = str3.concat(all_genres[i], str4);
                a2.setAttribute("onclick", str5);
                d.appendChild(a1);
                d.appendChild(document.createTextNode("\u00A0"));
                d.appendChild(a2);
                tag_holder.appendChild(d);
                genres.push(all_genres[i]);
              }
            }
          }
          else if (!genres.includes(str2)) {
            var d = document.createElement("div");
            d.className = str2;
            var a1 = document.createElement("a");
            a1.appendChild(document.createTextNode(str2));
            var a2 = document.createElement("a");
            a2.appendChild(document.createTextNode("x"));
            a2.className = "close_tag";
            var str3 = "RemoveGenre(\'";
            var str4 = "\')";
            var str5 = str3.concat(str2, str4);
            a2.setAttribute("onclick", str5);
            d.appendChild(a1);
            d.appendChild(document.createTextNode("\u00A0"));
            d.appendChild(a2);
            tag_holder.appendChild(d);
            genres.push(str2);
          }
      });
      
      $(".Color_sub_menu > li").click(function() {
        $("#Color_sub_menu_heading").text($(this).text()+" "); 
        $("#Color_sub_menu_heading").append('<span class="drop-icon">▾</span><label title="Toggle Drop-down" class="drop-icon" for="sm1">▾</label>');
      });
      
      $(document).ready(function(){
        $("#actor_input").on("keyup", function() {
          var value = $(this).val().toLowerCase();
          $("#actor_list li a").filter(function() {
            $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
          });
        });
      });
    </script>
  </body>
</html>
